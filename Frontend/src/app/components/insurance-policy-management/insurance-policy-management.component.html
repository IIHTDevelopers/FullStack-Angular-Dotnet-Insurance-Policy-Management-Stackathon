<!-- insurance-policy-management.component.html -->

<div>
  <h2>Insurance Policies</h2>
  <!-- List of Insurances -->
  <ul>
    <li *ngFor="let policy of policies">
      <span>{{ policy.policyNumber }}</span>
      <span>{{ policy.policyType }}</span>
      <span>{{ policy.premiumAmount }}</span>
      <button (click)="editPolicy(policy)">Edit</button>
      <button (click)="deletePolicy(policy.policyId)">Delete</button>
    </li>
  </ul>

  <!-- Form to Create or Update Insurance -->
  <h2>{{ editingPolicy ? 'Edit Policy' : 'Add Policy' }}</h2>
  <form (ngSubmit)="submitForm()" #insuranceForm="ngForm">
    <label for="policyNumber">Policy Number:</label>
    <input type="text" id="policyNumber" name="policyNumber" [(ngModel)]="policyForm.policyNumber" required>

    <label for="policyType">Policy Type:</label>
    <input type="text" id="policyType" name="policyType" [(ngModel)]="policyForm.policyType" required>

    <label for="premiumAmount">Premium Amount:</label>
    <input type="number" id="premiumAmount" name="premiumAmount" [(ngModel)]="policyForm.premiumAmount" required>

    <button type="submit">{{ editingPolicy ? 'Update Policy' : 'Add Policy' }}</button>
    <button type="button" (click)="cancelEdit()">Cancel</button>
  </form>
</div>

